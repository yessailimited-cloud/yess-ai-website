<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yess AI - 香港首個 AIQ 系統研發者</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Babel for JSX support in browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Import Map for resolving module names in browser -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "framer-motion": "https://esm.sh/framer-motion@10.16.4?external=react,react-dom",
            "lucide-react": "https://esm.sh/lucide-react@0.292.0?external=react,react-dom",
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "@mediapipe/tasks-vision": "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.8/+esm"
        }
    }
    </script>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #0B0E14;
            color: #F8FAFC;
            overflow-x: hidden;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0B0E14; 
        }
        ::-webkit-scrollbar-thumb {
            background: #333; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #4ADE80; 
        }
        /* 3D Canvas Container */
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Behind content */
            overflow: hidden;
        }
        /* Hide Video Element used for tracking */
        #webcam {
            position: absolute;
            opacity: 0;
            pointer-events: none;
            width: 1px;
            height: 1px;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <video id="webcam" autoplay playsinline></video>

    <!-- React Application Script -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef, useMemo } from 'react';
        import ReactDOM from 'react-dom/client';
        import { motion, AnimatePresence, useScroll, useTransform, useSpring } from 'framer-motion';
        import { 
            BrainCircuit, Wand2, Scale, Zap, Globe2, ArrowRight, MapPin, ScanSearch, 
            ScrollText, GraduationCap, RefreshCcw, Sprout, School, HeartHandshake, 
            Briefcase, Building2, Trophy, ShieldCheck, BarChart3, CalendarCheck2, 
            TestTube2, Users, Mail, Linkedin, Instagram, ChevronDown, ChevronUp, ChevronsDown, 
            Rocket, PlayCircle, Bot, Eye, EyeOff, Menu, X, Sparkles, MessageSquare, 
            Send, Loader2, Copy, Check, AlertTriangle, Clock, Target, ArrowRightCircle, 
            Timer, FileWarning, ClipboardCheck, Lock, Info, MessageCircle, Camera, Hand, Settings,
            CheckCircle2, HelpCircle
        } from 'lucide-react';
        import * as THREE from 'three';
        import { FilesetResolver, HandLandmarker } from '@mediapipe/tasks-vision';

        const apiKey = ""; 

        // ==========================================
        // [知識庫] AI FAQ Database
        // ==========================================
        const FAQ_DATABASE = `
        公司名稱: Yess AI (AIQ Labs)
        定位: 香港首個 AIQ 系統研發者，專注於 AIQ Implementation & Cultural Integration。
        Q: 請問 Yess AI 的主要服務是什麼？
        A: Yess AI 專注於「AIQ 實施與文化整合」。我們不僅教授技能，更協助貴機構建立完整的 AIQ 文化，涵蓋政策制定、工作流程重整及倫理規範。
        `;

        // --- Components ---

        const GradientText = ({ children, className = "" }) => (
            <span className={`bg-clip-text text-transparent bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] ${className}`}>
                {children}
            </span>
        );

        const ButtonPrimary = ({ children, icon: Icon, onClick, className = "", disabled = false }) => (
            <motion.button 
                whileHover={!disabled ? { scale: 1.05, boxShadow: "0 0 20px rgba(74, 222, 128, 0.4)" } : {}}
                whileTap={!disabled ? { scale: 0.95 } : {}}
                onClick={onClick}
                disabled={disabled}
                className={`group relative px-8 py-4 bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] text-black font-semibold rounded-full flex items-center gap-3 overflow-hidden ${disabled ? 'opacity-50 cursor-not-allowed' : ''} ${className}`}
            >
                <span className="relative z-10 flex items-center gap-2">
                {children}
                {Icon && <Icon size={20} strokeWidth={2} />}
                </span>
                {!disabled && <div className="absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"></div>}
            </motion.button>
        );

        const ButtonSecondary = ({ children, icon: Icon, onClick, className="" }) => (
            <motion.button 
                whileHover={{ scale: 1.05, backgroundColor: "rgba(255,255,255,0.1)" }}
                whileTap={{ scale: 0.95 }}
                onClick={onClick}
                className={`px-8 py-4 bg-transparent border border-[#4ADE80]/30 text-white font-semibold rounded-full flex items-center gap-3 backdrop-blur-sm hover:border-[#4ADE80] transition-colors ${className}`}
            >
                {Icon && <Icon size={20} className="text-[#4ADE80]" />}
                {children}
            </motion.button>
        );

        // --- WhatsappIcon ---
        const WhatsappIcon = ({ size = 24, className = "" }) => (
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width={size}
                height={size}
                viewBox="0 0 24 24"
                fill="currentColor"
                className={className}
            >
                <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.017-1.04 2.479 0 1.462 1.065 2.876 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
            </svg>
        );

        const SectionHeading = ({ subtitle, title, align = "center" }) => (
            <div className={`mb-16 ${align === "center" ? "text-center" : "text-left"}`}>
                <motion.div 
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                className="inline-block px-4 py-1 mb-4 rounded-full border border-[#4ADE80]/30 bg-[#4ADE80]/5 text-[#4ADE80] text-sm font-medium tracking-wider uppercase"
                >
                {subtitle}
                </motion.div>
                <motion.h2 
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: 0.1 }}
                className="text-4xl md:text-5xl font-semibold text-white leading-tight"
                >
                {title}
                </motion.h2>
            </div>
        );

        // --- Typewriter Component ---
        const Typewriter = ({ words, speed = 150, deleteSpeed = 80, pause = 2000 }) => {
            const [index, setIndex] = useState(0);
            const [subIndex, setSubIndex] = useState(0);
            const [reverse, setReverse] = useState(false);
            const [blink, setBlink] = useState(true);

            useEffect(() => {
                const timeout = setTimeout(() => setBlink(prev => !prev), 500);
                return () => clearTimeout(timeout);
            }, [blink]);

            useEffect(() => {
                if (index >= words.length) return;

                if (subIndex === words[index].length + 1 && !reverse) {
                    setTimeout(() => setReverse(true), pause);
                    return;
                }

                if (subIndex === 0 && reverse) {
                    setReverse(false);
                    setIndex((prev) => (prev + 1) % words.length);
                    return;
                }

                const timeout = setTimeout(() => {
                    setSubIndex((prev) => prev + (reverse ? -1 : 1));
                }, reverse ? deleteSpeed : speed);

                return () => clearTimeout(timeout);
            }, [subIndex, index, reverse, words, speed, deleteSpeed, pause]);

            return (
                <span>
                    {words[index].substring(0, subIndex)}
                    <span className={`${blink ? "opacity-100" : "opacity-0"} ml-1 font-light text-[#4ADE80]`}>|</span>
                </span>
            );
        };

        const callGemini = async (userMessage, knowledgeBase = "") => {
            if (!apiKey) {
                // Simulate delay
                await new Promise(r => setTimeout(r, 1000));
                return "請設定 Gemini API Key 以啟用智能回答功能。";
            }

            try {
                const systemPrompt = `
                You are a helpful, professional AI consultant for Yess AI (Hong Kong).
                Your name is Yess AI Assistant.
                Answer in Traditional Chinese (Cantonese friendly if appropriate).
                
                Here is your Knowledge Base:
                ${knowledgeBase}
                
                If the answer is in the Knowledge Base, use it.
                Keep answers concise.
                `;

                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
                    {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userMessage }] }],
                            systemInstruction: { parts: [{ text: systemPrompt }] },
                        }),
                    }
                );

                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || "抱歉，AI 暫時無法回應。";
            } catch (error) {
                console.error("Gemini API Error:", error);
                return "連線錯誤，請稍後重試。";
            }
        };

        // --- 3D PARTICLE SYSTEM HERO ---
        
        const ParticleHero = ({ shapeType, particleColor, scaleFactor }) => {
            const containerRef = useRef(null);
            const [renderer, setRenderer] = useState(null);
            const [scene, setScene] = useState(null);
            const [camera, setCamera] = useState(null);
            const [particles, setParticles] = useState(null);
            
            const getShapePositions = (type, count = 2000) => {
                const positions = new Float32Array(count * 3);
                for (let i = 0; i < count; i++) {
                    let x, y, z;
                    const i3 = i * 3;
                    
                    // Always Sphere logic since we restricted selection
                    const theta = Math.random() * Math.PI * 2;
                    const phi = Math.acos((Math.random() * 2) - 1);
                    const r = 2.5 + Math.random() * 0.5;
                    x = r * Math.sin(phi) * Math.cos(theta);
                    y = r * Math.sin(phi) * Math.sin(theta);
                    z = r * Math.cos(phi);

                    positions[i3] = x;
                    positions[i3 + 1] = y;
                    positions[i3 + 2] = z;
                }
                return positions;
            };

            useEffect(() => {
                if (!containerRef.current) return;

                // UPDATE: Use container dimensions, not window dimensions
                const w = containerRef.current.clientWidth;
                const h = containerRef.current.clientHeight;
                
                const _scene = new THREE.Scene();
                // Optional: remove fog if it makes particles too dim on right side
                // _scene.fog = new THREE.FogExp2(0x0B0E14, 0.05);

                const _camera = new THREE.PerspectiveCamera(75, w / h, 0.1, 1000);
                _camera.position.z = 8;

                const _renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                _renderer.setSize(w, h);
                _renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                containerRef.current.appendChild(_renderer.domElement);

                const particleCount = 2000;
                const geometry = new THREE.BufferGeometry();
                const initialPos = getShapePositions(shapeType, particleCount);
                geometry.setAttribute('position', new THREE.BufferAttribute(initialPos, 3));
                geometry.setAttribute('targetPosition', new THREE.BufferAttribute(initialPos.slice(), 3));

                const material = new THREE.PointsMaterial({
                    color: new THREE.Color(particleColor),
                    size: 0.08,
                    transparent: true,
                    opacity: 0.8,
                    blending: THREE.AdditiveBlending
                });

                const _particles = new THREE.Points(geometry, material);
                _scene.add(_particles);

                setScene(_scene);
                setCamera(_camera);
                setRenderer(_renderer);
                setParticles(_particles);

                const clock = new THREE.Clock();
                
                const animate = () => {
                    requestAnimationFrame(animate);
                    const time = clock.getElapsedTime();

                    if (_particles) {
                        _particles.rotation.y = time * 0.05;
                        _particles.rotation.z = time * 0.02;

                        const positions = _particles.geometry.attributes.position.array;
                        const targets = _particles.geometry.attributes.targetPosition.array;
                        
                        for (let i = 0; i < positions.length; i++) {
                            positions[i] += (targets[i] - positions[i]) * 0.05;
                        }
                        _particles.geometry.attributes.position.needsUpdate = true;
                    }

                    _renderer.render(_scene, _camera);
                };
                animate();

                const handleResize = () => {
                    if (!containerRef.current) return;
                    const width = containerRef.current.clientWidth;
                    const height = containerRef.current.clientHeight;
                    _camera.aspect = width / height;
                    _camera.updateProjectionMatrix();
                    _renderer.setSize(width, height);
                };
                window.addEventListener('resize', handleResize);

                return () => {
                    window.removeEventListener('resize', handleResize);
                    if (containerRef.current) containerRef.current.removeChild(_renderer.domElement);
                    _renderer.dispose();
                };
            }, []);

            useEffect(() => {
                if (particles) {
                    particles.material.color.set(particleColor);
                }
            }, [particleColor, particles]);

            useEffect(() => {
                if (particles) {
                    const currentScale = particles.scale.x;
                    const targetScale = Math.max(0.5, Math.min(3, scaleFactor)); 
                    particles.scale.set(targetScale, targetScale, targetScale);
                }
            }, [scaleFactor, particles]);

            return <div className="w-full h-full" ref={containerRef} />;
        };

        const Hero = ({ onOpenAssessment, onNavClick }) => {
            const [shape, setShape] = useState('sphere');
            const [color, setColor] = useState('#4ADE80');
            const [handScale, setHandScale] = useState(1);
            const [cameraActive, setCameraActive] = useState(false);
            const [loadingCam, setLoadingCam] = useState(false);
            const [isCoreOpen, setIsCoreOpen] = useState(false); // Collapsed by default
            
            useEffect(() => {
                let handLandmarker = null;
                let animationFrameId = null;
                const video = document.getElementById('webcam');

                const setupMediaPipe = async () => {
                    try {
                        const vision = await FilesetResolver.forVisionTasks(
                            "https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.8/wasm"
                        );
                        handLandmarker = await HandLandmarker.createFromOptions(vision, {
                            baseOptions: {
                                modelAssetPath: `https://storage.googleapis.com/mediapipe-models/hand_landmarker/hand_landmarker/float16/1/hand_landmarker.task`,
                                delegate: "GPU"
                            },
                            runningMode: "VIDEO",
                            numHands: 2
                        });
                    } catch (err) {
                        console.error("MediaPipe Load Error:", err);
                    }
                };

                setupMediaPipe();

                const predictWebcam = () => {
                    if (handLandmarker && video.currentTime > 0) {
                        const results = handLandmarker.detectForVideo(video, performance.now());
                        
                        if (results.landmarks && results.landmarks.length === 2) {
                            const hand1 = results.landmarks[0][8]; 
                            const hand2 = results.landmarks[1][8]; 
                            
                            const dx = hand1.x - hand2.x;
                            const dy = hand1.y - hand2.y;
                            const distance = Math.sqrt(dx*dx + dy*dy);
                            
                            const newScale = 0.5 + (distance * 3); 
                            setHandScale(newScale);
                        }
                    }
                    animationFrameId = requestAnimationFrame(predictWebcam);
                };

                if (cameraActive) {
                    navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {
                        video.srcObject = stream;
                        video.addEventListener("loadeddata", () => {
                            predictWebcam();
                            setLoadingCam(false);
                        });
                    });
                } else {
                    if(video.srcObject) {
                        video.srcObject.getTracks().forEach(track => track.stop());
                        video.srcObject = null;
                    }
                }

                return () => {
                    if(animationFrameId) cancelAnimationFrame(animationFrameId);
                }
            }, [cameraActive]);

            const toggleCamera = () => {
                if (!cameraActive) setLoadingCam(true);
                setCameraActive(!cameraActive);
            }

            return (
                <section className="relative min-h-screen flex items-center overflow-hidden pt-32 pb-20">
                    
                    {/* Background Visual (Right Side on Desktop, Hidden behind text on Mobile) */}
                    <div className="absolute top-0 right-0 w-full lg:w-1/2 h-full z-0 opacity-50 lg:opacity-100 pointer-events-none">
                        <ParticleHero shapeType={shape} particleColor={color} scaleFactor={handScale} />
                    </div>

                    <div className="container mx-auto px-6 relative z-10 flex flex-col lg:items-start items-center">
                        <motion.div 
                            initial={{ opacity: 0, y: -20 }} 
                            animate={{ opacity: 1, y: 0 }} 
                            transition={{ duration: 0.8 }}
                            className="mb-6 inline-flex justify-center items-center gap-2 px-4 py-1.5 rounded-full border border-[#4ADE80]/30 bg-[#4ADE80]/10 backdrop-blur-md shadow-[0_0_15px_rgba(74,222,128,0.2)]"
                        >
                            <span className="relative flex h-2 w-2">
                                <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#4ADE80] opacity-75"></span>
                                <span className="relative inline-flex rounded-full h-2 w-2 bg-[#4ADE80]"></span>
                            </span>
                            <span className="text-[#4ADE80] font-mono text-xs md:text-sm font-bold tracking-wider uppercase">
                                AI INTEGRATION SYSTEM V1.0 ONLINE
                            </span>
                        </motion.div>

                        {/* Updated Title and Subtitle Structure */}
                        <div className="text-center lg:text-left max-w-2xl">
                            <motion.h2 
                                initial={{ opacity: 0, y: 10 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ delay: 0.15 }}
                                className="text-xl md:text-2xl font-semibold text-white mb-2 tracking-wide drop-shadow-lg"
                            >
                                香港首個 AIQ 系統研發者
                            </motion.h2>

                            <motion.h1 
                                initial={{ opacity: 0, y: 30 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.8, delay: 0.2 }}
                                className="text-5xl md:text-7xl font-semibold text-white mb-6 leading-tight drop-shadow-lg"
                            >
                                IQ 決定你的起點，<br />
                                <GradientText>AIQ</GradientText> 決定你能走 
                                <GradientText>多遠</GradientText>。
                            </motion.h1>

                            <motion.p 
                                initial={{ opacity: 0, y: 30 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.8, delay: 0.4 }}
                                className="text-lg md:text-xl text-white mb-10 leading-relaxed font-light drop-shadow-md"
                            >
                                香港 2026 年的核心競爭力標準，<br className="md:inline hidden"/>
                                為您的機構建立 <span className="text-white font-semibold">AIQ (人工智能商數)</span> 系統。
                            </motion.p>

                            <motion.div 
                                initial={{ opacity: 0, y: 30 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.8, delay: 0.6 }}
                                className="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center"
                            >
                                <ButtonPrimary icon={Zap} onClick={() => onOpenAssessment('')}>快速 AIQ 評估</ButtonPrimary>
                                <ButtonSecondary onClick={() => {
                                    onNavClick('about');
                                    window.scrollTo({top: 0, behavior: 'smooth'});
                                }} icon={Info}>關於我們</ButtonSecondary>
                            </motion.div>
                        </div>
                    </div>

                    {/* Interactive Control Panel - Collapsible */}
                    <motion.div 
                        initial={{ opacity: 0, x: -50 }}
                        animate={{ opacity: 1, x: 0 }}
                        transition={{ delay: 1 }}
                        className="absolute left-4 bottom-4 md:left-8 md:bottom-8 bg-[#0B0E14]/80 backdrop-blur-xl border border-white/10 p-3 rounded-2xl w-56 z-20 pointer-events-auto shadow-2xl transition-all"
                    >
                        <div 
                            className="flex items-center justify-between gap-2 mb-0 cursor-pointer"
                            onClick={() => setIsCoreOpen(!isCoreOpen)}
                        >
                            <div className="flex items-center gap-2 text-[#4ADE80] font-semibold">
                                <Settings size={14} /> 
                                <span className="text-sm">體驗3D互動場景</span>
                            </div>
                            {isCoreOpen ? <ChevronDown size={14} className="text-gray-400" /> : <ChevronUp size={14} className="text-gray-400" />}
                        </div>
                        
                        <AnimatePresence>
                            {isCoreOpen && (
                                <motion.div
                                    initial={{ height: 0, opacity: 0 }}
                                    animate={{ height: "auto", opacity: 1 }}
                                    exit={{ height: 0, opacity: 0 }}
                                    className="overflow-hidden"
                                >
                                    <div className="pt-3 border-t border-white/10 mt-2">
                                        <div className="mb-3">
                                            <button 
                                                onClick={toggleCamera}
                                                className={`w-full py-1.5 px-3 rounded-lg flex items-center justify-center gap-2 text-xs font-medium transition-all ${cameraActive ? 'bg-red-500/20 text-red-400 border border-red-500/50' : 'bg-white/5 hover:bg-white/10 text-white border border-white/10'}`}
                                            >
                                                {loadingCam ? <Loader2 className="animate-spin" size={14} /> : <Camera size={14} />}
                                                {cameraActive ? "停止手勢偵測" : "開啟手勢互動"}
                                            </button>
                                            {cameraActive && <p className="text-[10px] text-gray-400 mt-1 text-center">伸出雙手食指，拉開距離以擴張粒子</p>}
                                        </div>

                                        <div className="mb-3">
                                            <p className="text-[10px] text-gray-400 mb-1">Shape Template</p>
                                            <div className="flex gap-2">
                                                <button 
                                                    onClick={() => setShape('sphere')}
                                                    className={`flex-1 px-2 py-1.5 rounded-md text-xs border transition-all ${shape === 'sphere' ? 'bg-[#4ADE80]/20 border-[#4ADE80] text-[#4ADE80]' : 'bg-transparent border-white/10 text-gray-400 hover:text-white'}`}
                                                >
                                                    Sphere
                                                </button>
                                            </div>
                                        </div>

                                        <div>
                                            <p className="text-[10px] text-gray-400 mb-1">Core Energy Color</p>
                                            <div className="flex gap-2">
                                                {['#4ADE80', '#06B6D4'].map(c => (
                                                    <button 
                                                        key={c}
                                                        onClick={() => setColor(c)}
                                                        className={`w-6 h-6 rounded-full border-2 transition-all ${color === c ? 'border-white scale-110' : 'border-transparent opacity-50 hover:opacity-100'}`}
                                                        style={{ backgroundColor: c }}
                                                    />
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </motion.div>
                            )}
                        </AnimatePresence>
                    </motion.div>
                </section>
            );
        };

        const AssessmentModal = ({ isOpen, onClose, initialEmail }) => {
            const [step, setStep] = useState(1);
            const [formData, setFormData] = useState({
                name: '', email: '', businessType: '', role: '',
                aiUsage: [], // Multi-select
                frequency: '',
                challenges: [], // Multi-select
                awareness: '' // New field for awareness question
            });
            const [result, setResult] = useState(null);

            // Updated Options
            const AI_TOOLS = [
                'ChatGPT / Claude', 'Midjourney / Stable Diffusion', 'Microsoft Copilot', 
                'Notion AI', 'Google Gemini', 'Poe', 'Perplexity', 'Jasper', 
                'Canva Magic / Adobe Firefly', 'GitHub Copilot', '公司內部 AI 系統', '完全沒有使用'
            ];
            const CHALLENGES = ['缺乏相關技能', '擔心資料外洩', '沒有預算', '管理層不支持', '不知道從何開始'];
            
            useEffect(() => {
                if (isOpen && initialEmail) setFormData(prev => ({ ...prev, email: initialEmail }));
            }, [isOpen, initialEmail]);

            const handleChange = (field, value) => setFormData(prev => ({ ...prev, [field]: value }));
            
            const toggleSelection = (field, item) => {
                setFormData(prev => {
                    const list = prev[field] || [];
                    if (list.includes(item)) return { ...prev, [field]: list.filter(i => i !== item) };
                    return { ...prev, [field]: [...list, item] };
                });
            };

            const calculateResult = () => {
                let score = 50; // Base score
                
                // Frequency Logic
                if (formData.frequency === 'daily') score += 20;
                else if (formData.frequency === 'weekly') score += 10;
                else if (formData.frequency === 'rarely') score -= 10;

                // Tools Logic
                if (formData.aiUsage.includes('完全沒有使用')) score -= 20;
                else score += (formData.aiUsage.length * 5);

                // Challenge Penalty
                if (formData.challenges.includes('擔心資料外洩')) score -= 5; // Specific risk penalty
                
                // Awareness Penalty (Managers)
                if (['management', 'middle'].includes(formData.role)) {
                     if (formData.awareness === 'none') score -= 10;
                     if (formData.awareness === 'full') score += 10;
                }

                // Clamp
                score = Math.max(10, Math.min(95, score));

                let grade = 'C';
                let urgency = '中度 (Moderate)';
                let summary = '';

                if (score >= 80) {
                    grade = 'A';
                    urgency = '優化階段 (Optimization)';
                    summary = '您的基礎良好，已具備一定的 AIQ。下一步是建立系統化的治理框架，確保全機構的一致性。';
                } else if (score >= 60) {
                    grade = 'B';
                    urgency = '加速階段 (Acceleration)';
                    summary = '您已有使用經驗，但可能缺乏統一策略。建議針對「流程重整」進行深入規劃。';
                } else if (score >= 40) {
                    grade = 'C';
                    urgency = '警戒階段 (Warning)';
                    summary = '您處於 AI 轉型的起步階段。缺乏明確指引可能導致效率低落或合規風險。';
                } else {
                    grade = 'D';
                    urgency = '極度緊急 (Critical)';
                    summary = '您的機構在 AIQ 準備度上嚴重落後。競爭對手可能已在利用 AI 降本增效，建議立即啟動基礎培訓。';
                }

                setResult({ score, grade, urgency, summary, timeToQualify: '3-6 個月' });
                setStep(2);
            };

            // Updated to redirect to WhatsApp
            const handleSendResult = () => {
                const message = `你好 Yess AI 團隊，\n\n我完成了 AIQ 初步評估，結果如下：\n\n姓名: ${formData.name}\nEmail: ${formData.email}\n機構: ${formData.businessType}\n職位: ${formData.role}\n頻率: ${formData.frequency}\n工具: ${formData.aiUsage.join(', ')}\n挑戰: ${formData.challenges.join(', ')}\n\n-- 評估結果 --\n分數: ${result.score}\n等級: ${result.grade}\n急迫性: ${result.urgency}`;
                const encodedMessage = encodeURIComponent(message);
                window.open(`https://wa.me/85294392236?text=${encodedMessage}`, '_blank');
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center p-4">
                    <motion.div key='backdrop' initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={onClose} className="absolute inset-0 bg-black/80 backdrop-blur-sm" />
                    <motion.div key='content' initial={{ scale: 0.9, opacity: 0, y: 20 }} animate={{ scale: 1, opacity: 1, y: 0 }} exit={{ scale: 0.9, opacity: 0, y: 20 }} className="relative bg-[#0B0E14] border border-[#4ADE80]/30 w-full max-w-3xl rounded-3xl overflow-hidden shadow-[0_0_50px_rgba(74,222,128,0.15)] flex flex-col max-h-[90vh]">
                        <button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-white z-10"><X size={24} /></button>
                        
                        {step === 1 ? (
                            <div className="flex-1 overflow-y-auto p-8 md:p-10">
                                <div className="flex items-center gap-3 mb-6">
                                    <div className="p-3 bg-[#4ADE80]/10 rounded-xl text-[#4ADE80]"><ShieldCheck size={28} /></div>
                                    <div><h3 className="text-2xl font-semibold text-white">AIQ 深度診斷 (2 min)</h3><p className="text-[#94A3B8] text-sm">讓我們更精準地了解您的 AI 成熟度。</p></div>
                                </div>
                                
                                <div className="space-y-6">
                                    {/* Section 1: Profile */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div><label className="text-xs text-[#94A3B8] mb-1 block">您的姓名</label><input type="text" className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#4ADE80]" onChange={e => handleChange('name', e.target.value)} /></div>
                                        <div><label className="text-xs text-[#94A3B8] mb-1 block">電郵地址</label><input type="email" value={formData.email} className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#4ADE80]" onChange={e => handleChange('email', e.target.value)} /></div>
                                        <div>
                                            <label className="text-xs text-[#94A3B8] mb-1 block">機構類型</label>
                                            <select className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#4ADE80]" onChange={e => handleChange('businessType', e.target.value)}>
                                                <option value="">請選擇...</option>
                                                <option value="school">學校 (K12/Higher Ed)</option>
                                                <option value="ngo">非牟利機構 (NGO)</option>
                                                <option value="sme">中小企 (SME)</option>
                                                <option value="enterprise">大型企業 (Enterprise)</option>
                                                <option value="startup">初創企業 (Startup)</option>
                                                <option value="government">政府/公共機構</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="text-xs text-[#94A3B8] mb-1 block">您的職位</label>
                                            <select className="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-[#4ADE80]" onChange={e => handleChange('role', e.target.value)}>
                                                <option value="">請選擇...</option>
                                                <option value="management">管理層 / 校長 / 董事</option>
                                                <option value="middle">部門主管 / 主任</option>
                                                <option value="staff">前線員工 / 教師</option>
                                                <option value="it">IT / 技術支援</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    {/* Conditional Question for Managers */}
                                    {['management', 'middle'].includes(formData.role) && (
                                        <div className="p-4 bg-[#06B6D4]/10 rounded-xl border border-[#06B6D4]/30">
                                            <label className="text-sm font-bold text-[#06B6D4] mb-3 block flex items-center gap-2">
                                                <Users size={16} /> 
                                                管理層專屬：您是否清楚員工的 AI 使用狀況 (人數/工具/頻率)？
                                            </label>
                                            <div className="grid grid-cols-3 gap-3">
                                                {[{l:'完全掌握', v:'full'}, {l:'部分了解', v:'partial'}, {l:'完全不清楚', v:'none'}].map(opt => (
                                                    <button
                                                        key={opt.v}
                                                        onClick={() => handleChange('awareness', opt.v)}
                                                        className={`py-2 rounded-lg text-sm border transition-all ${formData.awareness === opt.v ? 'bg-[#06B6D4] text-[#0B0E14] border-[#06B6D4] font-bold' : 'bg-black/20 border-white/10 text-gray-400 hover:bg-white/10'}`}
                                                    >
                                                        {opt.l}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    {/* Section 2: Usage */}
                                    <div>
                                        <label className="text-xs text-[#94A3B8] mb-2 block">目前使用的 AI 工具 (可多選)</label>
                                        <div className="flex flex-wrap gap-2">
                                            {AI_TOOLS.map(tool => (
                                                <button 
                                                    key={tool}
                                                    onClick={() => toggleSelection('aiUsage', tool)}
                                                    className={`px-3 py-2 rounded-lg text-sm border transition-all ${formData.aiUsage.includes(tool) ? 'bg-[#4ADE80]/20 border-[#4ADE80] text-[#4ADE80]' : 'bg-white/5 border-white/10 text-gray-400 hover:bg-white/10'}`}
                                                >
                                                    {tool}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    <div>
                                        <label className="text-xs text-[#94A3B8] mb-2 block">AI 使用頻率</label>
                                        <div className="grid grid-cols-3 gap-3">
                                            {[{l:'幾乎每天',v:'daily'}, {l:'每週幾次',v:'weekly'}, {l:'很少/從不',v:'rarely'}].map(opt => (
                                                <button 
                                                    key={opt.v}
                                                    onClick={() => handleChange('frequency', opt.v)}
                                                    className={`py-3 rounded-xl text-sm border transition-all ${formData.frequency === opt.v ? 'bg-[#06B6D4]/20 border-[#06B6D4] text-[#06B6D4]' : 'bg-white/5 border-white/10 text-gray-400 hover:bg-white/10'}`}
                                                >
                                                    {opt.l}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Section 3: Challenges */}
                                    <div>
                                        <label className="text-xs text-[#94A3B8] mb-2 block">目前最大的阻礙 (可多選)</label>
                                        <div className="flex flex-wrap gap-2">
                                            {CHALLENGES.map(c => (
                                                <button 
                                                    key={c}
                                                    onClick={() => toggleSelection('challenges', c)}
                                                    className={`px-3 py-2 rounded-lg text-sm border transition-all ${formData.challenges.includes(c) ? 'bg-red-500/20 border-red-500 text-red-400' : 'bg-white/5 border-white/10 text-gray-400 hover:bg-white/10'}`}
                                                >
                                                    {c}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    <ButtonPrimary onClick={calculateResult} className="w-full justify-center mt-4" icon={ScanSearch} disabled={!formData.email || !formData.businessType}>查看詳細分析</ButtonPrimary>
                                </div>
                            </div>
                        ) : (
                            <div className="p-8 md:p-10 text-center relative overflow-hidden h-full flex flex-col justify-center">
                                <div className={`absolute inset-0 opacity-10 bg-gradient-to-b ${['A','B'].includes(result.grade) ? 'from-[#4ADE80] to-transparent' : 'from-red-500 to-transparent'}`} />
                                <div className="relative z-10">
                                    <h3 className="text-xl font-semibold text-[#94A3B8] mb-6 uppercase tracking-widest">Assessment Report</h3>
                                    <div className="flex justify-center items-end gap-2 mb-6"><div className="text-7xl font-semibold text-white leading-none">{result.score}</div><div className="text-xl text-[#94A3B8] mb-2">/ 100</div></div>
                                    
                                    <div className="grid grid-cols-2 gap-4 mb-6">
                                        <div className="bg-white/5 rounded-2xl p-4 border border-white/10">
                                            <div className="text-xs text-[#94A3B8] uppercase tracking-wider mb-1">AIQ 等級</div>
                                            <div className={`text-4xl font-semibold ${['A','B'].includes(result.grade) ? 'text-[#4ADE80]' : 'text-red-400'}`}>{result.grade}</div>
                                        </div>
                                        <div className="bg-white/5 rounded-2xl p-4 border border-white/10">
                                            <div className="text-xs text-[#94A3B8] uppercase tracking-wider mb-1">行動急迫性</div>
                                            <div className="text-lg font-semibold text-white flex items-center justify-center h-full pb-2 gap-2">
                                                {!['A'].includes(result.grade) && <AlertTriangle size={16} className="text-yellow-500"/>}
                                                {result.urgency.split(' ')[0]}
                                            </div>
                                        </div>
                                    </div>

                                    {/* New: AI-RQ Explanation */}
                                    <div className="mb-6 p-4 bg-white/5 rounded-xl border border-white/10 text-left text-xs text-[#94A3B8] leading-relaxed">
                                        <h4 className="text-white font-bold mb-2 flex items-center gap-2 text-sm"><Info size={14} className="text-[#4ADE80]"/> 評分標準：AI Readiness Quotient (AI-RQ)</h4>
                                        <p className="mb-2">此評分基於 UNESCO 認可的組織準備度框架，評估四大維度：</p>
                                        <ul className="grid grid-cols-2 gap-x-2 gap-y-1 mb-3 list-disc pl-4">
                                            <li><span className="text-white">Strategy (策略)</span>: 願景與影響力</li>
                                            <li><span className="text-white">Execution (執行)</span>: 變革與人才</li>
                                            <li><span className="text-white">Innovation (創新)</span>: 實驗與顛覆</li>
                                            <li><span className="text-white">Enabling (賦能)</span>: 數據與倫理</li>
                                        </ul>
                                        <p className="text-[#06B6D4]">目標分數為 64+ (AI-First)。低於 32 分代表存在重大落差 (Major Gaps)，急需建立 AIQ 系統以避免被邊緣化。</p>
                                    </div>

                                    <div className="bg-white/5 rounded-2xl p-6 border border-white/10 mb-8 text-left"><p className="text-white mb-4 leading-relaxed">{result.summary}</p></div>
                                    <ButtonPrimary className="w-full justify-center" onClick={handleSendResult} icon={CalendarCheck2}>獲取完整報告與專家建議</ButtonPrimary>
                                </div>
                            </div>
                        )}
                    </motion.div>
                </div>
            );
        };

        const HookSection = () => {
            const [activeMode, setActiveMode] = useState('culture'); 

            return (
                <section id="hook" className="py-24 bg-[#0B0E14] relative z-10">
                <div className="container mx-auto px-6">
                    <SectionHeading subtitle="The Reality Check" title="培訓 vs. 文化" />
                    
                    <div className="flex justify-center mb-12">
                    <div className="bg-white/5 p-1 rounded-full flex relative backdrop-blur-sm border border-white/10">
                        <motion.div 
                        className="absolute top-1 bottom-1 rounded-full bg-gradient-to-r from-[#4ADE80] to-[#06B6D4]"
                        initial={false}
                        animate={{ 
                            left: activeMode === 'training' ? '4px' : '50%', 
                            width: 'calc(50% - 4px)' 
                        }}
                        transition={{ type: "spring", stiffness: 300, damping: 30 }}
                        />
                        <button onClick={() => setActiveMode('training')} className={`relative z-10 px-8 py-3 rounded-full text-sm font-semibold transition-colors w-40 ${activeMode === 'training' ? 'text-[#0B0E14]' : 'text-white'}`}>舊式培訓</button>
                        <button onClick={() => setActiveMode('culture')} className={`relative z-10 px-8 py-3 rounded-full text-sm font-semibold transition-colors w-40 ${activeMode === 'culture' ? 'text-[#0B0E14]' : 'text-white'}`}>Yess AIQ</button>
                    </div>
                    </div>

                    <div className="max-w-4xl mx-auto">
                    <AnimatePresence mode="wait">
                        {activeMode === 'training' ? (
                        <motion.div key="training" initial={{ opacity: 0, x: -20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: 20 }} className="bg-white/5 border border-white/10 rounded-3xl p-8 md:p-12 grayscale">
                            <div className="flex flex-col md:flex-row gap-8 items-center">
                            <div className="flex-1 space-y-4">
                                <h3 className="text-2xl font-semibold text-gray-400">只教工具操作</h3>
                                <p className="text-gray-500">傳統課程只教員工如何開啟 ChatGPT 或 Midjourney。<br/><br/><strong className="text-red-400">結果：</strong> 員工私下亂用、資料外洩風險高、工作效率無實質提升。</p>
                            </div>
                            <div className="w-full md:w-1/3 flex justify-center"><div className="w-32 h-32 rounded-full bg-gray-700 flex items-center justify-center text-gray-500"><X size={48} /></div></div>
                            </div>
                        </motion.div>
                        ) : (
                        <motion.div key="culture" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} className="bg-gradient-to-br from-[#4ADE80]/10 to-[#06B6D4]/10 border border-[#4ADE80]/50 rounded-3xl p-8 md:p-12 shadow-[0_0_50px_rgba(74,222,128,0.1)]">
                            <div className="flex flex-col md:flex-row gap-8 items-center">
                            <div className="flex-1 space-y-4">
                                <h3 className="text-2xl font-semibold text-white">建立 <GradientText>AIQ 文化</GradientText></h3>
                                <p className="text-[#94A3B8]">我們植入整套機構運作系統：從政策制定、倫理規範到工作流重整。<br/><br/><strong className="text-[#4ADE80]">結果：</strong> 政策護航、風險可控、全員主動創新。</p>
                            </div>
                            <div className="w-full md:w-1/3 flex justify-center"><div className="w-32 h-32 rounded-full bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] flex items-center justify-center text-[#0B0E14] shadow-lg shadow-[#4ADE80]/40"><Sprout size={48} /></div></div>
                            </div>
                        </motion.div>
                        )}
                    </AnimatePresence>
                    </div>
                </div>
                </section>
            );
        };

        const AIQDimensions = () => {
            const cards = [
                { icon: BrainCircuit, title: "1. 認知與理解", desc: "理解 AI 的基本原理與邊界，知道何時該用，何時該人工介入。" },
                { icon: Wand2, title: "2. 工具應用能力", desc: "熟練使用工具完成實際工作，如市場部快速起稿、客服初篩客戶。" },
                { icon: Scale, title: "3. 倫理與判斷力", desc: "識別偏見、保護數據隱私、負責任地決策，避免 AI 誤用。" },
                { icon: Zap, title: "4. 創新與流程優化", desc: "主動思考「怎樣用 AI 重塑工作」，設計新的人機協作模式。" }
            ];
            return (
                <section id="framework" className="py-24 bg-[#0B0E14] relative z-10">
                <div className="container mx-auto px-6 relative z-10">
                    <SectionHeading subtitle="The Framework" title="未來競爭力的四大重點" />
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {cards.map((card, idx) => (
                        <motion.div key={idx} initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ delay: idx * 0.1 }} whileHover={{ y: -5 }} className="group relative bg-white/5 border border-white/10 hover:border-[#4ADE80]/50 rounded-2xl p-8 backdrop-blur-sm transition-all duration-300">
                        <div className="relative z-10 flex items-start gap-6">
                            <div className="p-4 rounded-xl bg-white/5 text-[#4ADE80] group-hover:bg-[#4ADE80] group-hover:text-[#0B0E14] transition-colors duration-300"><card.icon size={32} /></div>
                            <div><h3 className="text-xl font-semibold text-white mb-3 group-hover:text-[#4ADE80] transition-colors">{card.title}</h3><p className="text-[#94A3B8] leading-relaxed">{card.desc}</p></div>
                        </div>
                        </motion.div>
                    ))}
                    </div>
                </div>
                </section>
            );
        };

        const GlobalMap = () => {
            // --- New Interactive Graph ---
            const GraphVisual = () => {
                // Mock data points for the flow animation
                const [flowParticles, setFlowParticles] = useState([]);

                // Generate particles periodically
                useEffect(() => {
                    const interval = setInterval(() => {
                        const newParticle = {
                            id: Date.now(),
                            path: Math.floor(Math.random() * 3), // 0, 1, or 2 (UNESCO, EU, OECD)
                            progress: 0
                        };
                        setFlowParticles(prev => [...prev, newParticle]);
                    }, 800);

                    return () => clearInterval(interval);
                }, []);

                return (
                    <div className="relative w-full h-full flex items-center justify-center">
                        {/* Background Rings (Rotating) */}
                        <motion.div 
                            animate={{ rotate: 360 }}
                            transition={{ duration: 40, repeat: Infinity, ease: "linear" }}
                            className="absolute w-[80%] h-[80%] border border-dashed border-[#06B6D4]/20 rounded-full"
                        />
                        <motion.div 
                            animate={{ rotate: -360 }}
                            transition={{ duration: 30, repeat: Infinity, ease: "linear" }}
                            className="absolute w-[60%] h-[60%] border border-[#4ADE80]/20 rounded-full"
                        />
                        
                        {/* Central Hub (HK) */}
                        <div className="relative z-10 w-24 h-24 bg-[#0B0E14] border-2 border-[#4ADE80] rounded-full flex flex-col items-center justify-center shadow-[0_0_30px_rgba(74,222,128,0.3)]">
                            <div className="font-bold text-white">Yess AI</div>
                            <div className="text-xs text-[#4ADE80]">HK HUB</div>
                            <span className="absolute top-0 left-0 w-full h-full rounded-full bg-[#4ADE80] animate-ping opacity-20"></span>
                        </div>

                        {/* Orbiting Nodes & Paths */}
                        {/* Node 1: UNESCO */}
                        <div className="absolute top-[10%] left-[50%] -translate-x-1/2 flex flex-col items-center">
                            <div className="w-16 h-16 bg-[#0B0E14] border border-[#06B6D4] rounded-full flex items-center justify-center text-[#06B6D4] font-bold shadow-[0_0_15px_rgba(6,182,212,0.3)] mb-2">UNESCO</div>
                            {/* Connection Line (CSS Line) */}
                            <div className="absolute top-16 left-1/2 w-[2px] h-[calc(50vh-100px)] bg-gradient-to-b from-[#06B6D4]/50 to-transparent origin-top scale-y-[0.6]"></div>
                        </div>

                        {/* Node 2: EU */}
                        <div className="absolute bottom-[20%] left-[10%] flex flex-col items-center">
                            <div className="w-14 h-14 bg-[#0B0E14] border border-blue-400 rounded-full flex items-center justify-center text-blue-400 font-bold shadow-[0_0_15px_rgba(96,165,250,0.3)] mb-2">EU</div>
                        </div>

                        {/* Node 3: OECD */}
                        <div className="absolute bottom-[20%] right-[10%] flex flex-col items-center">
                            <div className="w-14 h-14 bg-[#0B0E14] border border-purple-400 rounded-full flex items-center justify-center text-purple-400 font-bold shadow-[0_0_15px_rgba(192,132,252,0.3)] mb-2">OECD</div>
                        </div>

                        {/* Animated Particles (Simplified CSS implementation for demo) */}
                        <motion.div 
                            className="absolute top-[20%] left-[50%] w-2 h-2 bg-[#06B6D4] rounded-full shadow-[0_0_10px_#06B6D4]"
                            animate={{ y: [0, 100], opacity: [1, 0] }}
                            transition={{ duration: 2, repeat: Infinity, ease: "easeIn" }}
                        />
                         <motion.div 
                            className="absolute bottom-[25%] left-[15%] w-2 h-2 bg-blue-400 rounded-full shadow-[0_0_10px_blue]"
                            animate={{ x: [0, 100], y: [0, -50], opacity: [1, 0] }}
                            transition={{ duration: 2.5, repeat: Infinity, ease: "easeIn", delay: 0.5 }}
                        />
                        <motion.div 
                            className="absolute bottom-[25%] right-[15%] w-2 h-2 bg-purple-400 rounded-full shadow-[0_0_10px_purple]"
                            animate={{ x: [0, -100], y: [0, -50], opacity: [1, 0] }}
                            transition={{ duration: 2.5, repeat: Infinity, ease: "easeIn", delay: 1 }}
                        />
                    </div>
                );
            };

            return (
                <section className="py-24 bg-[#05070a] border-y border-white/5 relative z-10">
                <div className="container mx-auto px-6">
                    <div className="flex flex-col lg:flex-row items-center gap-16">
                        <div className="lg:w-1/2">
                            <div className="flex items-center gap-3 text-[#06B6D4] mb-4"><Globe2 size={24} /><span className="font-semibold tracking-wider uppercase">Global Standards</span></div>
                            <h2 className="text-4xl font-semibold text-white mb-6">國際標準，香港落地</h2>
                            <div className="space-y-6">
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div className="flex flex-col gap-3">
                                    <div className="w-12 h-12 rounded-full bg-blue-900/30 flex items-center justify-center text-blue-400 shrink-0"><span className="font-semibold">EU</span></div>
                                    <div><h4 className="text-white font-semibold text-lg">UNESCO & OECD 框架</h4><p className="text-[#94A3B8]">全球權威機構已定義 AI 素養標準。</p></div>
                                </div>
                                <div className="flex flex-col gap-3">
                                    <div className="w-12 h-12 rounded-full bg-[#4ADE80]/20 flex items-center justify-center text-[#4ADE80] shrink-0"><MapPin /></div>
                                    <div><h4 className="text-white font-semibold text-lg">Yess AI 本地化實踐</h4><p className="text-[#94A3B8]">將國際標準轉化為符合香港教育局政策與商業文化的實戰方案。</p></div>
                                </div>
                            </div>

                            </div>
                        </div>
                        <div className="lg:w-1/2 w-full h-[400px] flex justify-center">
                            <GraphVisual />
                        </div>
                    </div>
                </div>
                </section>
            );
        };

        const Roadmap = () => {
            const steps = [
                { icon: ScanSearch, title: "診斷", desc: "15分鐘 AIQ 準備度評估" },
                { icon: ScrollText, title: "政策", desc: "制定機構使用守則" },
                { icon: GraduationCap, title: "培訓", desc: "分層能力提升" },
                { icon: RefreshCcw, title: "重整", desc: "工作流程 AI 化" },
                { icon: Sprout, title: "文化", desc: "建立內部安全 AI 系統" }
            ];
            return (
                <section className="py-24 bg-[#0B0E14] relative z-10">
                <div className="container mx-auto px-6">
                    <SectionHeading subtitle="Roadmap" title="實施路線圖" />
                    <div className="grid grid-cols-1 md:grid-cols-5 gap-8 mt-16 relative z-10">
                    {steps.map((step, idx) => (
                        <motion.div key={idx} initial={{ opacity: 0, y: 30 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} transition={{ delay: idx * 0.15 }} className="flex flex-col items-center text-center group">
                        <div className="w-20 h-20 rounded-2xl bg-[#0B0E14] border border-white/20 group-hover:border-[#4ADE80] flex items-center justify-center mb-6 transition-all duration-300 shadow-lg group-hover:shadow-[#4ADE80]/20 relative">
                            <div className="absolute -top-3 -right-3 w-8 h-8 bg-[#0B0E14] border border-[#4ADE80] rounded-full flex items-center justify-center text-[#4ADE80] font-semibold text-sm">{idx + 1}</div>
                            <step.icon size={32} className="text-white group-hover:text-[#4ADE80] transition-colors" />
                        </div>
                        <h3 className="text-lg font-semibold text-white mb-2">{step.title}</h3>
                        <p className="text-[#94A3B8] text-sm">{step.desc}</p>
                        </motion.div>
                    ))}
                    </div>
                </div>
                </section>
            );
        };

        const AIWorkflowSimulator = () => {
            const [role, setRole] = useState('學校老師');
            const [task, setTask] = useState('');
            const [simulationData, setSimulationData] = useState(null);
            const [loading, setLoading] = useState(false);

            // Updated Role & Task Database
            const roleTasks = {
                '學校老師': ['設計一週的教案', '批改 30 份學生作文', '生成測驗卷與標準答案', '撰寫學生評語', '處理家長投訴郵件'],
                'HR 經理': ['篩選 50+ 份求職簡歷', '撰寫職位招聘廣告 (JD)', '起草員工培訓手冊', '設計年度績效考核表', '分析員工滿意度調查'],
                '市場行銷': ['規劃 30 天社群貼文', '分析競爭對手廣告策略', '撰寫 SEO 優化文章', '生成活動宣傳海報概念', '整理客戶回饋數據'],
                'NGO 社工': ['整理個案服務紀錄', '撰寫基金撥款申請書', '製作年度影響力報告', '策劃義工招募活動', '分析受助人需求數據'],
                '中小企老闆': ['制定年度財務預算', '優化供應鏈流程', '分析月度銷售報表', '尋找潛在合作夥伴', '草擬商業合作合約'],
                '法律顧問': ['審閱保密協議 (NDA)', '起草服務條款 (T&C)', '分析合規風險', '整理過往案例', '撰寫法律意見書'],
                '軟體工程師': ['生成單元測試代碼', '解釋複雜的 Legacy Code', '優化 SQL 查詢語法', '撰寫 API 文件', 'Debug 錯誤代碼'],
                '大學研究員': ['整理文獻回顧 (Review)', '分析實驗數據', '潤飾學術論文草稿', '撰寫研究經費申請', '生成問卷調查題目'],
                '活動策劃': ['生成活動流程表 (Rundown)', '撰寫司儀稿 (MC Script)', '設計場地佈置方案', '預算分配表', '撰寫贊助商邀請信'],
                '財務經理': ['現金流預測分析', '生成財務報表摘要', '審核費用報銷單', '稅務合規檢查', '投資回報率 (ROI) 計算']
            };

            // Set default task when role changes
            useEffect(() => {
                setTask(roleTasks[role][0]);
            }, [role]);

            const handleSimulate = async () => {
                setLoading(true);
                setSimulationData(null);
                try {
                    const prompt = `
                    Act as an AI Transformation Expert for Yess AI. 
                    Compare the "Before" (Traditional) vs "After" (Yess AIQ System) workflow for a "${role}" performing the task: "${task}".
                    
                    Output structured text in Traditional Chinese (Hong Kong style):
                    1. BEFORE: Describe pain points for the individual AND the organization (e.g. high cost, reputation risk, slow market response). Max 50 words.
                    2. AFTER: Describe the AIQ benefit (automated, safe, strategic). Max 40 words.
                    3. TIME_SAVED: Estimate percentage (e.g. 70%).
                    4. RISK_REDUCED: A short phrase (e.g. 隱私合規).
                    
                    Format the response as a JSON string:
                    {
                    "before": "...",
                    "after": "...",
                    "timeSaved": "...",
                    "riskReduced": "..."
                    }`;
                    const resultText = await callGemini(prompt, "You are a JSON generator.");
                    const jsonString = resultText.replace(/```json|```/g, '').trim();
                    const result = JSON.parse(jsonString);
                    setSimulationData(result);
                } catch (e) {
                    setSimulationData({ before: "傳統方式耗時且易錯，需大量人手處理，導致機構運營成本高昂且反應緩慢。", after: "AIQ 系統自動化處理，確保合規且高效，釋放人力專注核心價值。", timeSaved: "50%+", riskReduced: "資料外洩" });
                }
                setLoading(false);
            };

            return (
                <section id="simulator" className="py-24 bg-gradient-to-b from-[#0B0E14] to-[#05070a] border-t border-white/5 relative z-10">
                <div className="container mx-auto px-6 text-center">
                    <SectionHeading subtitle="Experience Impact" title="AIQ 系統模擬器" />
                    <div className="flex flex-col md:flex-row justify-center gap-4 mb-12 bg-white/5 p-6 rounded-3xl border border-white/10 backdrop-blur-xl shadow-lg max-w-5xl mx-auto">
                        <div className="flex flex-col items-start gap-2 w-full md:w-auto">
                            <label className="text-xs font-bold text-[#4ADE80] uppercase tracking-wider ml-1 flex items-center gap-1"><Users size={12}/> 職位</label>
                            <div className="relative w-full md:w-48">
                                <select value={role} onChange={(e) => setRole(e.target.value)} className="appearance-none bg-[#0B0E14]/50 border border-white/20 rounded-xl px-4 py-3 text-white w-full focus:border-[#4ADE80] outline-none cursor-pointer">
                                    {Object.keys(roleTasks).map(r => <option key={r} value={r}>{r}</option>)}
                                </select>
                                <ChevronDown className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none" size={16} />
                            </div>
                        </div>
                        <div className="flex flex-col items-start gap-2 w-full md:w-auto flex-grow">
                            <label className="text-xs font-bold text-[#06B6D4] uppercase tracking-wider ml-1 flex items-center gap-1"><Target size={12}/> 任務</label>
                            <div className="relative w-full">
                                <select value={task} onChange={(e) => setTask(e.target.value)} className="appearance-none bg-[#0B0E14]/50 border border-white/20 rounded-xl px-4 py-3 text-white w-full focus:border-[#06B6D4] outline-none cursor-pointer">
                                    {roleTasks[role].map(t => <option key={t} value={t}>{t}</option>)}
                                </select>
                                <ChevronDown className="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none" size={16} />
                            </div>
                        </div>
                        <div className="flex items-end w-full md:w-auto">
                            <button onClick={handleSimulate} disabled={loading} className="w-full md:w-auto bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] text-[#0B0E14] font-bold px-8 py-3 rounded-xl flex items-center justify-center gap-2 hover:opacity-90 transition-opacity">
                                {loading ? <Loader2 className="animate-spin" size={18}/> : <Sparkles size={18}/>}
                                {loading ? "模擬中..." : "開始模擬"}
                            </button>
                        </div>
                    </div>
                    
                    {simulationData && (
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto animate-in slide-in-from-bottom-4 fade-in duration-700">
                        <div className="bg-[#12141a]/80 border border-white/5 rounded-[2rem] p-8 text-left relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-1 h-full bg-red-500/50"></div>
                            <h3 className="text-red-400 font-bold mb-4 flex items-center gap-2"><FileWarning size={18}/> Before (傳統模式)</h3>
                            <p className="text-gray-400 leading-relaxed text-lg">{simulationData.before}</p>
                        </div>
                        <div className="bg-[#0B0E14]/80 border border-[#4ADE80]/30 rounded-[2rem] p-8 text-left relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-1 h-full bg-[#4ADE80]"></div>
                            <div className="absolute -right-10 -top-10 w-32 h-32 bg-[#4ADE80]/10 rounded-full blur-3xl"></div>
                            <h3 className="text-[#4ADE80] font-bold mb-4 flex items-center gap-2"><CheckCircle2 size={18}/> After (Yess AIQ)</h3>
                            <p className="text-white leading-relaxed text-lg font-medium">{simulationData.after}</p>
                            <div className="mt-6 flex gap-4 pt-4 border-t border-white/10">
                                <div className="flex flex-col">
                                    <span className="text-xs text-gray-500 uppercase tracking-wider">節省時間</span>
                                    <span className="text-2xl font-bold text-[#4ADE80]">{simulationData.timeSaved}</span>
                                </div>
                                <div className="w-px bg-white/10"></div>
                                <div className="flex flex-col">
                                    <span className="text-xs text-gray-500 uppercase tracking-wider">降低風險</span>
                                    <span className="text-lg font-bold text-[#06B6D4]">{simulationData.riskReduced}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    )}
                </div>
                </section>
            );
        };

        const Solutions = () => {
            const [activeTab, setActiveTab] = useState(0);
            const tabs = [
                { id: 0, name: "學校 Schools", icon: School, title: "由合規焦慮，轉向未來人才培育", content: "我們協助學校建立校本 AI 政策 (Policy) 與使用守則，釐清學術誠信邊界，並確保方案符合教育局 (EDB) 資助計畫的申請資格 。通過 AIQ (人工智能商數) 培訓，我們賦能教師利用 AI 減輕行政工作負擔，優化教學流程 。協助學校建立全校性的應用文化，培育學生成為具備認知、倫理與創新能力的 AI-Ready 未來人才 。" },
                { id: 1, name: "NGO", icon: HeartHandshake, title: "由倫理風險，轉向服務效能倍增", content: "在資源受限下實現最大影響力。我們提供合規的數據隱私治理（管控），同時賦能前線社工利用 AI 自動化繁瑣行政（成長），讓團隊將更多時間與心力回歸到受助者身上。" },
                { id: 2, name: "中小企 SME", icon: Briefcase, title: "全員創新的增長引擎", content: "超越單純的降本增效。我們協助建立標準化且安全的 AI 工作流（管控），讓每位員工都能成為利用 AI 解決業務瓶頸的「超級個體」（成長），讓中小企具備大企業的作戰能力。" },
                { id: 3, name: "大型企業", icon: Building2, title: "治理與轉型並行", content: "從防禦性風控轉向進攻性轉型。我們協助建立企業級私有化模型與治理框架（管控），消除安全隱患，同時推動跨部門的 AI 協作文化（成長），讓創新成為企業的日常 DNA。" },
            ];
            return (
                <section id="solutions" className="py-24 bg-[#05070a] scroll-mt-20">
                <div className="container mx-auto px-6">
                    <SectionHeading subtitle="Solutions" title="為您的領域量身打造" />
                    <div className="flex flex-wrap justify-center gap-4 mb-12">{tabs.map((tab) => <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-6 py-3 rounded-full flex items-center gap-2 border ${activeTab === tab.id ? "bg-[#4ADE80]/10 border-[#4ADE80] text-[#4ADE80]" : "bg-transparent border-white/10 text-[#94A3B8]"}`}>{React.createElement(tab.icon, { size: 18 })} {tab.name}</button>)}</div>
                    <div className="max-w-4xl mx-auto bg-white/5 border border-white/10 rounded-3xl p-10 text-center"><h3 className="text-3xl font-semibold text-white mb-6">{tabs[activeTab].title}</h3><p className="text-xl text-[#94A3B8]">{tabs[activeTab].content}</p></div>
                </div>
                </section>
            );
        };

        const TrustSection = () => {
            return (
                <section id="why-us" className="py-24 bg-[#0B0E14] relative z-10">
                <div className="container mx-auto px-6">
                    <SectionHeading subtitle="Why Us" title="香港 AIQ 標準制定者" />
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                    {[
                        { icon: Trophy, title: "先發優勢", desc: "香港首間系統化 AIQ 夥伴，不僅是服務，更是標準。" },
                        { icon: ShieldCheck, title: "風險最小化", desc: "對標國際最佳實踐，符合香港合規要求，不做白老鼠。" },
                        { icon: BarChart3, title: "可衡量成果", desc: "關注採納率與效率提升，而非單純的培訓滿意度。" }
                    ].map((item, idx) => (
                        <motion.div key={idx} whileHover={{ y: -5 }} className="p-8 border border-white/10 rounded-2xl bg-gradient-to-b from-white/5 to-transparent">
                        <item.icon size={40} className="text-[#06B6D4] mb-6" />
                        <h4 className="text-xl font-semibold text-white mb-3">{item.title}</h4>
                        <p className="text-[#94A3B8]">{item.desc}</p>
                        </motion.div>
                    ))}
                    </div>
                </div>
                </section>
            );
        };

        const Footer = ({ onOpenAssessment }) => (
            <footer className="bg-[#020305] pt-24 pb-12 border-t border-white/10 relative overflow-hidden">
                <div className="absolute bottom-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-[#4ADE80]/5 blur-[100px] pointer-events-none"></div>
                <div className="container mx-auto px-6 relative z-10">
                    <div className="flex flex-col md:flex-row justify-between items-start gap-12 mb-16">
                        <div className="max-w-md">
                            <div className="text-3xl font-semibold tracking-tight mb-6 flex items-center gap-1"><span className="text-white">yess</span><span className="text-[#06B6D4]">!</span></div>
                            <h3 className="text-2xl font-semibold text-white mb-6">識用AI未夠，<br/>你要有<span className="text-[#4ADE80]">系統性地使用</span>！</h3>
                            <div className="flex gap-4">
                                <a href="mailto:info@yessai.hk" className="p-3 bg-white/5 rounded-full text-white hover:bg-[#4ADE80] hover:text-black transition-colors"><Mail size={20} /></a>
                                <a href="https://www.linkedin.com/company/yessaihk/" target="_blank" className="p-3 bg-white/5 rounded-full text-white hover:bg-[#06B6D4] hover:text-black transition-colors"><Linkedin size={20} /></a>
                                <a href="https://www.instagram.com/yessaihk/" target="_blank" className="p-3 bg-white/5 rounded-full text-white hover:bg-[#E1306C] hover:text-black transition-colors"><Instagram size={20} /></a>
                            </div>
                        </div>
                        <div className="w-full max-w-md">
                            <div className="bg-[#0B0E14] border border-white/20 rounded-xl p-6 font-mono text-sm">
                                <div className="text-[#4ADE80] mb-2">$ system_init_transformation.sh</div>
                                <div className="text-[#94A3B8] mb-4">率先訂閱Yess AI專屬電子報...</div>
                                <div className="flex gap-2">
                                    <input type="email" placeholder="name@company.com" className="bg-transparent border-b border-white/30 w-full py-2 text-white focus:outline-none focus:border-[#4ADE80]" onKeyDown={(e) => e.key === 'Enter' && onOpenAssessment(e.target.value)} />
                                    <button className="text-[#4ADE80] font-semibold hover:text-white transition-colors">ENTER</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div className="flex flex-col md:flex-row justify-between items-center pt-8 border-t border-white/10 text-sm text-[#94A3B8]">
                        <div>© 2025 Yess AI. 香港首個 AIQ 系統研發者.</div>
                        <div className="flex gap-6 mt-4 md:mt-0"><a href="#" className="hover:text-white">隱私政策</a><a href="#" className="hover:text-white">服務條款</a></div>
                    </div>
                </div>
            </footer>
        );

        const Navbar = ({ onOpenAssessment, onViewChange }) => {
            const [isScrolled, setIsScrolled] = useState(false);
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            useEffect(() => {
                const handleScroll = () => setIsScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const handleNavClick = (target) => {
                if (target === 'about') {
                    onViewChange('about');
                    window.scrollTo({top: 0, behavior: 'smooth'});
                } else {
                    onViewChange('home');
                    setTimeout(() => {
                        const element = document.getElementById(target);
                        if (element) window.scrollTo({top: element.offsetTop - 100, behavior: 'smooth'});
                        else window.scrollTo({top: 0, behavior: 'smooth'});
                    }, 100);
                }
                setMobileMenuOpen(false);
            };

            const NAV_ITEMS = [
                { id: 'hook', label: '核心理念' },
                { id: 'framework', label: '核心框架' },
                { id: 'solutions', label: '解決方案' },
                { id: 'why-us', label: '為什麼選擇我們' }
            ];

            return (
                <nav className="fixed top-6 left-0 right-0 z-50 px-4 md:px-0 transition-all duration-300">
                    <div className={`container mx-auto max-w-5xl ${isScrolled ? 'bg-[#0B0E14]/80 backdrop-blur-xl border border-white/10 shadow-2xl' : 'bg-[#0B0E14]/40 backdrop-blur-md border border-white/5'} rounded-full py-3 px-6 transition-all duration-500`}>
                        <div className="flex justify-between items-center">
                            <div className="cursor-pointer flex items-center gap-1" onClick={() => handleNavClick('home')}>
                                <div className="text-xl font-semibold tracking-tight flex items-center gap-1"><span className="text-white">yess</span><span className="text-[#06B6D4] animate-pulse">!</span></div>
                                <span className="ml-2 text-[10px] text-[#94A3B8] font-normal tracking-widest border-l border-[#94A3B8] pl-2 uppercase hidden sm:block">AIQ Labs</span>
                            </div>
                            <div className="hidden md:flex items-center gap-8 text-sm font-medium text-[#94A3B8]">
                                {NAV_ITEMS.map(item => (
                                    <button key={item.id} onClick={() => handleNavClick(item.id)} className="hover:text-white transition-colors">{item.label}</button>
                                ))}
                            </div>
                            <div className="hidden md:flex items-center gap-3">
                                <button onClick={() => handleNavClick('about')} className="text-sm font-semibold text-white hover:text-[#4ADE80] px-3 py-2">關於我們</button>
                                <button onClick={() => window.open('https://wa.me/85294392236', '_blank')} className="text-sm font-semibold text-white hover:text-[#4ADE80] px-3 py-2">聯絡我們</button>
                                <motion.button whileHover={{ scale: 1.05 }} onClick={() => onOpenAssessment('')} className="px-5 py-2 rounded-full bg-[#4ADE80]/10 border border-[#4ADE80] text-[#4ADE80] font-semibold text-sm flex items-center gap-2"><ClipboardCheck size={16} /> 免費 AIQ 評估</motion.button>
                            </div>
                            <div className="md:hidden text-white p-1" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>{mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}</div>
                        </div>
                    </div>
                    <AnimatePresence>{mobileMenuOpen && (
                        <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -20 }} className="absolute top-20 left-4 right-4 bg-[#0B0E14] border border-white/10 rounded-3xl p-6 shadow-2xl z-40">
                            <div className="flex flex-col gap-4 text-center">
                                {NAV_ITEMS.map(item => (
                                    <button key={item.id} onClick={() => handleNavClick(item.id)} className="text-white py-2 hover:text-[#4ADE80]">{item.label}</button>
                                ))}
                                <button onClick={() => handleNavClick('about')} className="text-white font-bold pb-2 border-b border-white/10">關於我們</button>
                                <button onClick={() => window.open('https://wa.me/85294392236', '_blank')} className="text-white font-bold pb-2 border-b border-white/10">聯絡我們</button>
                                <button onClick={() => { onOpenAssessment(''); setMobileMenuOpen(false); }} className="mt-2 w-full py-3 bg-[#4ADE80] text-black font-semibold rounded-xl">免費 AIQ 評估</button>
                            </div>
                        </motion.div>
                    )}</AnimatePresence>
                </nav>
            );
        };

        const AboutPage = ({ onOpenAssessment }) => {
            const stats = [
                { value: "70+", label: "國際AI專案經驗", desc: "跨國視野，本地實踐" }, 
                { value: "40-70%", label: "自動化覆蓋率", desc: "釋放人力，專注核心價值" }, 
                { value: "20-35%", label: "採用度提升", desc: "治理+培訓雙管齊下" }, 
            ];
            return (
                <div className="pt-32 pb-20 min-h-screen">
                    <div className="container mx-auto px-6">
                        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="text-center max-w-4xl mx-auto mb-24">
                            <div className="inline-block px-4 py-1 mb-6 rounded-full border border-[#4ADE80]/30 bg-[#4ADE80]/5 text-[#4ADE80] text-sm font-medium tracking-wider uppercase">關於我們</div>
                            <h1 className="text-5xl md:text-7xl font-semibold text-white mb-8 leading-tight">We Work <GradientText><Typewriter words={["Smarter.", "Sharper.", "Strategically."]} /></GradientText></h1>
                            <p className="text-lg md:text-xl text-[#94A3B8] leading-relaxed mb-12 font-light">我們以香港為總部，成立於 2024。小團隊，大志向；<br className="hidden md:block"/>憑 200+ 全球專案經驗，把 AI 由概念帶到生產，<span className="text-white font-semibold">快、準、可維護。</span></p>
                            <div className="flex flex-col sm:flex-row gap-6 justify-center">
                                <ButtonPrimary onClick={() => window.open('https://wa.me/85294392236', '_blank')} icon={WhatsappIcon}>免費諮詢</ButtonPrimary>
                                <ButtonSecondary onClick={() => onOpenAssessment('')} icon={Zap}>AIQ 快速評估</ButtonSecondary>
                            </div>
                        </motion.div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-24">{stats.map((stat, idx) => (
                            <motion.div key={idx} initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} className="bg-white/5 border border-white/10 rounded-2xl p-6 text-center hover:bg-white/10 transition-all">
                                <div className="text-3xl md:text-4xl font-bold text-white mb-2">{stat.value}</div>
                                <div className="text-base font-semibold text-white mb-2">{stat.label}</div>
                                <div className="text-xs text-[#94A3B8] font-light">{stat.desc}</div>
                            </motion.div>
                        ))}</div>
                        <div className="max-w-3xl mx-auto text-center">
                            <h2 className="text-3xl font-bold text-white mb-6">不僅是技術供應商，更是您的<br/><GradientText>AI 文化架構師</GradientText></h2>
                            <p className="text-[#94A3B8] leading-relaxed text-lg mb-8">在 Yess AI，我們深知香港企業與教育機構面臨的獨特挑戰：既要擁抱創新，又要嚴守合規與數據隱私。我們的創始團隊結合了國際頂尖科技公司的實戰經驗與對香港本地文化的深刻理解。</p>
                            <div className="flex justify-center gap-4 items-center border-t border-white/10 pt-8">
                                <div className="w-12 h-12 rounded-full bg-[#06B6D4]/20 flex items-center justify-center text-[#06B6D4]"><Globe2 /></div>
                                <div className="text-left"><div className="text-white font-bold">立足香港，放眼全球</div><div className="text-sm text-[#94A3B8]">總部設於香港，服務網絡覆蓋亞太區</div></div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const FloatingPulse = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [chatInput, setChatInput] = useState("");
            const [messages, setMessages] = useState([{ role: 'assistant', text: '您好！我是 Yess AI 的智能顧問。請選擇下方主題，或直接輸入您的問題：' }]);
            const [loading, setLoading] = useState(false);
            const [currentMenu, setCurrentMenu] = useState('main'); // 'main', 'about', 'industry', 'process', 'importance', 'chat'

            // Define Chatbot Categories and Questions
            const CHAT_CATEGORIES = [
                {
                    id: 'about',
                    label: '關於 Yess AI 與 AIQ 概念',
                    questions: [
                        { q: '請問 Yess AI 的主要服務是什麼？', a: '你好！很高興為你解答。簡單來說，市面上許多課程僅教授「如何使用工具」（例如編寫 Prompt），但 Yess AI 專注於 「AIQ 實施與文化整合 (AIQ Implementation & Cultural Integration)」 。我們不僅教授技能，更協助貴機構建立完整的 AIQ 文化，涵蓋政策制定、工作流程重整及倫理規範 。我們的目標是讓你的機構不僅懂得使用 AI，更能負責任、有系統地應用它 。' },
                        { q: 'AIQ 是什麼？它與我們常說的 IQ 有分別嗎？', a: '問得好！如果 IQ 衡量的是傳統的認知能力，那麼 AIQ (人工智能商數) 衡量的就是你在 AI 時代中，與 AI 系統協作、理解及應用的能力 。根據 UNESCO 與 OECD 的國際標準，AIQ 包含四大核心維度 ：\n\n認知： 理解 AI 的能力邊界與局限 。\n工具： 熟練運用 AI 工具優化流程 。\n倫理： 具備判斷力，知道何時恰當使用 AI 並保護隱私 。\n創新： 主動重新設計工作方式以發揮 AI 優勢 。這正是現代職場成功的新指標 。' },
                        { q: '我們公司已經有員工在使用 ChatGPT，還需要 AIQ 培訓嗎？', a: '其實懂得使用 ChatGPT 並不等於擁有 AIQ 。傳統培訓僅教授工具操作，若缺乏統一的 政策 (Policy) 與 倫理判斷 (Ethics)，員工各自使用容易衍生風險（如資料外洩） 。Yess AI 協助你進行的是 系統化整合：從評估、制定守則到流程重整，確保全公司在「同一標準」下安全、有效地應用 AI 。' }
                    ]
                },
                {
                    id: 'industry',
                    label: '不同行業的應用 (學校 / NGO / SME)',
                    questions: [
                        { q: '我來自學校，你們的方案符合教育局的要求嗎？', a: '絕對符合！我們了解教育局已將 AI 素養納入課程框架 。我們不僅協助學校滿足新課程要求及申請資助，更致力於建立 全校性的 AI 應用文化 。對於校長，我們協助建立符合國際標準（如 UNESCO）的校本政策 ；對於教師，我們著重於如何運用 AI 減輕行政工作，賦能前線教師 。' },
                        { q: '我是 NGO 負責人，推行 AIQ 對我們有什麼具體幫助？', a: '營運 NGO 最重視的是倫理與資源效益。我們協助 NGO 利用 AI 提升服務效能與覆蓋面，同時確保堅守機構的價值觀與倫理底線 。具體而言，我們能讓你的團隊既懂得運用 AI 撰寫撥款申請 (Funding Proposal) 或整理數據，又懂得保護受助人隱私，成為一個負責任的數位化機構 。' },
                        { q: '中小企 (SME) 資源有限，這套系統適合我們嗎？', a: '當然適合！中小企最講求成本效益。我們協助你將 AI 深入日常工作流程，讓工作更快速、精準，直接降低營運成本並提升效率 。此外，我們採用 模組化設計，建議由 小型試點 (Pilot) 開始，無需一開始就進行大規模轉型，風險極低且能快速見證成效 。' }
                    ]
                },
                {
                    id: 'process',
                    label: '實施流程與下一步',
                    questions: [
                        { q: '推行這套系統的過程是怎樣的？', a: '請不用擔心，我們有一套清晰的 「五大支柱」 實施方案 ：\n\n評估 (Diagnosis)： 診斷機構目前的 AI 準備度與缺口 。\n政策 (Policy)： 制定使用原則與合規框架 。\n培訓 (Training)： 針對領導層與執行層提供分層培訓 。\n流程 (Process)： 重整工作流程，設計人機協作的新模式 。\n文化 (Culture)： 推動內部倡導與持續優化，確保落實 。' },
                        { q: '我有興趣，第一步該怎麼做？', a: '最快速的方法是預約一個 15 分鐘的免費 AIQ 準備度評估 。只需一杯咖啡的時間，我們就能協助診斷貴機構的現況與優先項目 。此外，我們亦提供 8-12 週的概念驗證 (POC) 試點計畫，讓你親眼見證 AIQ 落實的實際成效 。' }
                    ]
                },
                {
                    id: 'importance',
                    label: '為什麼推行 AIQ 如此重要？',
                    questions: [
                        { q: '為什麼現在推行 AIQ 如此重要？', a: '根據分析，推行 AIQ 是機構未來生存的關鍵：\n1. 填補「政策」與「實踐」的缺口：將宏觀政策轉化為實際操作指引。\n2. 風險管理與倫理合規：避免誤用，建立護城河。\n3. 提升效率與競爭力：流程優化，時間節省。\n4. 與國際標準接軌：對標 UNESCO/OECD。\n5. 建立可持續的機構文化：內化能力，長遠價值。' }
                    ]
                }
            ];

            const handleSend = async (text = chatInput) => {
                if (!text.trim()) return;
                const userMsg = text;
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setChatInput("");
                setLoading(true);
                // Use the FAQ_DATABASE in the prompt for manual queries
                const prompt = `Question: "${userMsg}"`;
                const reply = await callGemini(prompt, FAQ_DATABASE); 
                setMessages(prev => [...prev, { role: 'assistant', text: reply }]);
                setLoading(false);
            };

            const handleCategoryClick = (catId) => {
                setCurrentMenu(catId);
            };

            const handleQuestionClick = (questionObj) => {
                setMessages(prev => [
                    ...prev, 
                    { role: 'user', text: questionObj.q },
                    { role: 'assistant', text: questionObj.a }
                ]);
                // Don't reset menu immediately so they can ask more, or maybe show 'back' option
            };

            return (
                <div className="fixed bottom-8 right-8 z-[40]">
                    <AnimatePresence>
                        {isOpen && (
                            <motion.div initial={{ opacity: 0, scale: 0.8, y: 10 }} animate={{ opacity: 1, scale: 1, y: 0 }} exit={{ opacity: 0, scale: 0.8, y: 10 }} className="absolute bottom-20 right-0 w-80 md:w-96 bg-[#0B0E14] border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[600px]">
                                <div className="bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] p-4 flex items-center gap-3 shrink-0">
                                    <Bot className="text-[#0B0E14]" size={24} />
                                    <div><h4 className="font-semibold text-[#0B0E14] leading-tight">Yess AI Assistant ✨</h4><p className="text-[#0B0E14]/80 text-xs">Powered by Gemini</p></div>
                                    <button onClick={() => setIsOpen(false)} className="ml-auto text-[#0B0E14] hover:text-white"><X size={20} /></button>
                                </div>
                                <div className="h-80 overflow-y-auto p-4 space-y-4 bg-[#0B0E14] flex-grow">
                                    {messages.map((msg, idx) => (
                                        <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                            <div className={`max-w-[85%] p-3 rounded-xl text-sm ${msg.role === 'user' ? 'bg-[#4ADE80]/20 text-white rounded-tr-none' : 'bg-white/10 text-gray-200 rounded-tl-none'} whitespace-pre-line`}>{msg.text}</div>
                                        </div>
                                    ))}
                                    {loading && <div className="flex justify-start"><div className="bg-white/10 p-3 rounded-xl rounded-tl-none flex items-center gap-2"><Loader2 size={14} className="animate-spin text-[#4ADE80]" /><span className="text-xs text-gray-400">Thinking...</span></div></div>}
                                    
                                    {/* Chatbot Menu Options */}
                                    <div className="pt-2 space-y-2">
                                        {currentMenu === 'main' ? (
                                            <div className="grid grid-cols-1 gap-2">
                                                <p className="text-xs text-gray-500 mb-1">選擇主題:</p>
                                                {CHAT_CATEGORIES.map(cat => (
                                                    <button key={cat.id} onClick={() => handleCategoryClick(cat.id)} className="text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-sm text-[#4ADE80] border border-[#4ADE80]/20 transition-colors">{cat.label}</button>
                                                ))}
                                            </div>
                                        ) : (
                                            <div className="grid grid-cols-1 gap-2">
                                                <button onClick={() => setCurrentMenu('main')} className="text-left text-xs text-gray-400 hover:text-white mb-1 flex items-center gap-1">← 返回主選單</button>
                                                {CHAT_CATEGORIES.find(c => c.id === currentMenu)?.questions.map((q, i) => (
                                                    <button key={i} onClick={() => handleQuestionClick(q)} className="text-left p-2 rounded-lg bg-white/5 hover:bg-white/10 text-sm text-[#06B6D4] border border-[#06B6D4]/20 transition-colors">{q.q}</button>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                    <div ref={(el) => el?.scrollIntoView({ behavior: "smooth" })}></div>
                                </div>
                                <div className="p-4 border-t border-white/10 bg-[#0B0E14] shrink-0">
                                    <div className="flex gap-2">
                                        <input type="text" value={chatInput} onChange={(e) => setChatInput(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && handleSend()} placeholder="或直接輸入問題..." className="flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-[#4ADE80]" />
                                        <button onClick={() => handleSend()} disabled={loading} className="p-2 bg-[#4ADE80] rounded-lg text-[#0B0E14] hover:bg-[#06B6D4] transition-colors disabled:opacity-50"><Send size={18} /></button>
                                    </div>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                    <motion.button onClick={() => setIsOpen(!isOpen)} whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.9 }} className="w-14 h-14 rounded-full bg-gradient-to-r from-[#4ADE80] to-[#06B6D4] flex items-center justify-center text-[#0B0E14] shadow-[0_0_20px_rgba(6,182,212,0.5)] relative">
                        <motion.div animate={{ opacity: [0.5, 1, 0.5], scale: [1, 1.2, 1] }} transition={{ duration: 2, repeat: Infinity }} className="absolute inset-0 bg-white rounded-full opacity-20"></motion.div>
                        {isOpen ? <X size={24} /> : <Bot size={28} />}
                    </motion.button>
                </div>
            );
        };

        const Spotlight = () => {
            const mouseX = useSpring(0, { stiffness: 500, damping: 28 });
            const mouseY = useSpring(0, { stiffness: 500, damping: 28 });
            useEffect(() => {
                const handleMouseMove = ({ clientX, clientY }) => { mouseX.set(clientX); mouseY.set(clientY); };
                window.addEventListener("mousemove", handleMouseMove);
                return () => window.removeEventListener("mousemove", handleMouseMove);
            }, [mouseX, mouseY]);
            return React.createElement(motion.div, {
                className: "fixed top-0 left-0 w-full h-full pointer-events-none z-0 hidden md:block",
                style: { background: useTransform([mouseX, mouseY], ([x, y]) => `radial-gradient(600px at ${x}px ${y}px, rgba(29, 78, 216, 0.15), transparent 80%)`) }
            });
        };

        // --- Main App Structure ---
        // Simplified for this snippet, insert other sections (Hero, HookSection, etc) as defined previously
        const App = () => {
            const [assessmentOpen, setAssessmentOpen] = useState(false);
            const [initialEmail, setInitialEmail] = useState('');
            const [currentView, setCurrentView] = useState('home');

            const handleOpenAssessment = (email) => {
                setInitialEmail(typeof email === 'string' ? email : '');
                setAssessmentOpen(true);
            };

            // --- ROUTING LOGIC START ---
            useEffect(() => {
                const handleHashChange = () => {
                    // If the URL ends with #about, show About page. Else show Home.
                    const hash = window.location.hash;
                    if (hash === '#about') setCurrentView('about');
                    else setCurrentView('home');
                };
                
                // Run once on mount
                handleHashChange();

                // Listen for subsequent changes
                window.addEventListener('hashchange', handleHashChange);
                return () => window.removeEventListener('hashchange', handleHashChange);
            }, []);

            const handleNavClick = (target) => {
                if (target === 'about') {
                    window.location.hash = 'about';
                } else {
                    window.location.hash = 'home';
                    // Wait for state update if we were on 'about', then scroll
                    setTimeout(() => {
                        if (target !== 'home') {
                            document.getElementById(target)?.scrollIntoView({ behavior: 'smooth' });
                        } else {
                            window.scrollTo({top: 0, behavior: 'smooth'});
                        }
                    }, 100);
                }
            };
            // --- ROUTING LOGIC END ---

            return React.createElement('div', { className: "bg-[#0B0E14] min-h-screen text-white font-sans selection:bg-[#4ADE80] selection:text-[#0B0E14]" }, [
                React.createElement(Spotlight),
                React.createElement(Navbar, { onOpenAssessment: handleOpenAssessment, onViewChange: handleNavClick }),
                React.createElement(AssessmentModal, { isOpen: assessmentOpen, onClose: () => setAssessmentOpen(false), initialEmail }),
                React.createElement('main', {}, currentView === 'home' ? [
                    React.createElement(Hero, { onOpenAssessment: handleOpenAssessment, onNavClick: handleNavClick }),
                    React.createElement(HookSection),
                    React.createElement(AIQDimensions),
                    React.createElement(GlobalMap),
                    React.createElement(Roadmap),
                    React.createElement(AIWorkflowSimulator),
                    React.createElement(Solutions),
                    React.createElement(TrustSection)
                ] : React.createElement(AboutPage, { onOpenAssessment: handleOpenAssessment })),
                React.createElement(Footer, { onOpenAssessment: handleOpenAssessment, onNavClick: handleNavClick }),
                React.createElement(FloatingPulse)
            ]);
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>